<html>
<head>
  <title>Dragdealer.js 0.9.6</title>
  <meta charset="utf-8">

  <link href="lib/jasmine.css" type="text/css" rel="stylesheet">
  <link href="lib/font-awesome/css/font-awesome.min.css" type="text/css" rel="stylesheet">
  <script src="lib/jquery-1.10.2.min.js"></script>
  <script src="lib/jquery.simulate.js"></script>
  <script src="lib/jasmine.js"></script>
  <script src="lib/jasmine-html.js"></script>
  <script src="lib/jasmine-jquery.js"></script>

  <link href="src/dragdealer.css" type="text/css" rel="stylesheet">
  <script src="src/dragdealer.js"></script>

  <script src="spec/helpers.js"></script>
  <script src="spec/matchers.js"></script>
  <script src="spec/optionsSpec.js"></script>
  <script src="spec/draggingSpec.js"></script>
  <script src="spec/callbacksSpec.js"></script>
  <script src="spec/apiSpec.js"></script>
  <script src="spec/resizingSpec.js"></script>
  <script src="spec/eventsSpec.js"></script>
  <script src="spec/browser-runner.js"></script>

  <link href="demo/style/index.css" type="text/css" rel="stylesheet">
  <link href="demo/style/jasmine-reporter.css" type="text/css" rel="stylesheet">
  <link href="demo/style/demos.css" type="text/css" rel="stylesheet">
  <script src="demo/script/index.js"></script>
  <script src="demo/script/demos.js"></script>
</head>
<body>
  <div id="main-slider" class="dragdealer">
    <div class="specs-tab">
      <ul class="specs-bullets"></ul>
      <p class="specs-summary"></p>
    </div>
    <div class="handle red-bar">
      <h1><strong>Dragdealer</strong>.js<h1>
    </div>
  </div>
  <div id="content">
    <div class="content-slides">
      <div class="slide demo">
        <div class="inner-wrapper">
          <div class="important">
            <p><strong>Jan 2014:</strong> Almost 4 years from the initial Dragdealer.js launch, a new version is released. For more details read the <a href="#">blog post</a> or check out the freshly baked <a href="https://github.com/skidding/dragdealer">GitHub repo.</a></p>
          </div>

          <h2>Drag-based JavaScript component, embracing endless UI solutions</h2>
          <p>2d dragging and tapping, mouse and touch, ~10KB. No dependency. <a href="https://github.com/skidding/dragdealer/blob/master/Gruntfile.js#L2-L44">Any browser.</a></p>
          <ul class="project-buttons">
            <li>
              <a href="https://github.com/skidding/dragdealer">
                <i class="fa fa-github"></i> source code
              </a>
            </li>
            <li>
              <a href="https://github.com/skidding/dragdealer/archive/master.zip">
                <i class="fa fa-cloud-download"></i> download
              </a>
            </li>
            <li>
              <a href="#demos" class="internal-link">
                <i class="fa fa-magic"></i> jump to demos
              </a>
            </li>
          </ul>

<pre class="code">
&lt;div id="demo-simple-slider" class="<strong>dragdealer</strong>"&gt;
  &lt;div class="<strong>handle</strong> red-bar"&gt;drag me&lt;/div&gt;
&lt;/div&gt;
</pre>
<pre class="code">
<strong>new Dragdealer</strong>('demo-simple-slider');
</pre>
          <div id="demo-simple-slider" class="dragdealer">
            <div class="handle red-bar">drag me</div>
          </div>

          <h3>JS API</h3>
          <p>Here are the options, callbacks and methods Dragdealer.js supports, but you can read the <a href="https://github.com/skidding/dragdealer/blob/master/src/dragdealer.js">source code</a> for more information.</p>

          <h4>Constructor</h4>
          <ul class="property-list">
            <li>
              <strong>Dragdealer(wrapper, options={})</strong>
              <span class="description">Accepts an id or a DOM reference for the wrapper element. See possible options below.</span>
            </li>
          </ul>

          <h4>Options</h4>
          <ul class="property-list">
            <li>
              <span class="type">bool</span>
              <strong>disabled</strong><span class="default">=false</span>
              <span class="description">Init Dragdealer in a disabled state. The handle will have a .disabled class.</span>
            </li>
            <li>
              <span class="type">bool</span>
              <strong>horizontal</strong><span class="default">=true</span>
              <span class="description">Enable horizontal dragging.</span>
            </li>
            <li>
              <span class="type">bool</span>
              <strong>vertical</strong><span class="default">=false</span>
              <span class="description">Enable vertical dragging.</span>
            </li>
            <li>
              <span class="type">number</span>
              <strong>x</strong><span class="default">=0</span>
              <span class="description">Initial horizontal (left) position. Accepts a float number value between 0 and 1.</span>
            </li>
            <li>
              <span class="type">number</span>
              <strong>y</strong><span class="default">=0</span>
              <span class="description">Initial vertical (top) position. Accepts a float number value between 0 and 1.</span>
            </li>
            <li>
              <span class="type">number</span>
              <strong>steps</strong><span class="default">=0</span>
              <span class="description">Limit the positioning of the handle within the bounds of the wrapper, by defining a virtual grid made out of a number of equally-spaced steps. This restricts placing the handle anywhere in-between these steps. E.g. setting 3 steps to a regular slider will only allow you to move it to the left, to the right or exactly in the middle.</span>
            </li>
            <li>
              <span class="type">bool</span>
              <strong>snap</strong><span class="default">=false</span>
              <span class="description">When a number of steps is set, snap the position of the handle to its closest step instantly, even when dragging.</span>
            </li>
            <li>
              <span class="type">bool</span>
              <strong>slide</strong><span class="default">=true</span>
              <span class="description">Slide handle after releasing it, depending on the movement speed before the mouse/touch release.</span>
            </li>
            <li>
              <span class="type">bool</span>
              <strong>loose</strong><span class="default">=false</span>
              <span class="description">Loosen-up wrapper boundaries when dragging. This allows the handle to be *slightly* dragged outside the bounds of the wrapper, but slides it back to the margins of the wrapper upon release.</span>
            </li>
            <li>
              <span class="type">number</span>
              <strong>top</strong><span class="default">=0</span>
              <span class="description">Top padding between the wrapper and the handle.</span>
            </li>
            <li>
              <span class="type">number</span>
              <strong>bottom</strong><span class="default">=0</span>
              <span class="description">Bottom padding between the wrapper and the handle.</span>
            </li>
            <li>
              <span class="type">number</span>
              <strong>left</strong><span class="default">=0</span>
              <span class="description">Left padding between the wrapper and the handle.</span>
            </li>
            <li>
              <span class="type">number</span>
              <strong>right</strong><span class="default">=0</span>
              <span class="description">Right padding between the wrapper and the handle.</span>
            </li>
            <li>
              <span class="type">fn</span>
              <strong>callback(x, y)</strong>
              <span class="description">Called when releasing handle, with the projected x, y position of the handle. Projected value means the value the slider will have after finishing a sliding animation, caused by either a step restriction or drag motion (see <em>steps</em> and <em>slide</em> options.)</span>
            </li>
            <li>
              <span class="type">fn</span>
              <strong>animationCallback(x, y)</strong>
              <span class="description">Called every animation loop, as long as the handle is being dragged or in the process of a sliding animation. The x, y positional values received by this callback reflect the exact position of the handle DOM element, which includes exceeding values (even negative values) when the <em>loose</em> option is set true.</span>
            </li>
          </ul>

          <h4>Methods</h4>
          <ul class="property-list">
            <li>
              <strong>disable</strong>
              <span class="description">Disable dragging of a Dragdealer instance. Just as with the <em>disabled</em> option, the handle will receive a .disabled class</span>
            </li>
            <li>
              <strong>enable</strong>
              <span class="description">Enable dragging of a Dragdealer instance. The .disabled class of the handle will be removed.</span>
            </li>
            <li>
              <strong>reflow</strong>
              <span class="description">Recalculate the wrapper bounds of a Dragdealer instance, used when the wrapper is responsive and its parent container changed its size, or after changing the size of the wrapper directly.</span>
            </li>
            <li>
              <strong>getValue</strong>
              <span class="description">Get the value of a Dragdealer instance programatically. The value is returned as an [x, y] tuple and is the equivalent of the <em>projected</em> value returned by the regular callback, not animationCallback.</span>
            </li>
            <li>
              <strong>getStep</strong>
              <span class="description">Same as getValue, but the value returned is in step increments (see <em>steps</em> option)</span>
            </li>
            <li>
              <strong>setValue(x, y, snap=false)</strong>
              <span class="description">Set the value of a Dragdealer instance programatically. The 3rd parameter allows to snap the handle directly to the desired value, without any sliding transition.</span>
            </li>
            <li>
              <strong>setStep(x, y, snap=false)</strong>
              <span class="description">Same as setValue, but the value is received in step increments (see <em>steps</em> option)</span>
            </li>
          </ul>

          <h3 id="demos">Demos</h3>
          <p class="secondary">Some demos will use jQuery to manipulate surrounding elements. This is for keeping the examples as small as possible, Dragdealer doesn't have a jQuery or any other dependency.</p>

          <h4>Just a slider</h4>
          <p>A slider is just a user control, the power lies in the value it represents. For this reason the <strong>animationCallback</strong> is your biggest ally, with it you tie the user input to any visualization you can think of. This is the most boring example.</p>

<pre class="code">
&lt;div id="just-a-slider" class="dragdealer"&gt;
  &lt;div class="handle red-bar"&gt;
    &lt;div class="tooltip"&gt;<strong>&lt;span class="value"&gt;&lt;/span&gt;</strong>%&lt;/div&gt;
    drag me
  &lt;/div&gt;
&lt;/div&gt;
</pre>
<pre class="code">
new Dragdealer('just-a-slider', {
  <strong>animationCallback</strong>: function(x, y) {
    tooltipValue.innerHTML = Math.round(<strong>x</strong> * 100);
  }
});
</pre>
          <div id="just-a-slider" class="dragdealer">
            <div class="handle red-bar">
              <div class="tooltip"><span class="value"></span>%</div>
              drag me
            </div>
          </div>

          <h4><em>slide to unlock</em></h4>
          <p>This is how this project started, somebody wanted in iPhone-like slider. Classic.</p>

<pre class="code">
&lt;div class="slide-to-unlock old-slider"&gt;
  &lt;div id="slide-to-unlock-old" class="dragdealer"&gt;
    <strong>&lt;div class="slide-text"&gt;slide to unlock&lt;/div&gt;</strong>
    &lt;div class="handle"&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>
<pre class="code">
new Dragdealer('slide-to-unlock-old', {
  <strong>steps: 2,</strong>
  callback: function(x, y) {
    // Only 0 and 1 are the possible values because of "steps: 2"
    <strong>if (x) {</strong>
      this.disable();
      $('#slide-to-unlock-old').fadeOut();
    }
  }
});
</pre>
          <div class="slide-to-unlock old-slider">
            <div id="slide-to-unlock-old" class="dragdealer">
              <div class="slide-text">slide to unlock</div>
              <div class="handle"></div>
            </div>
          </div>

          <p>But the iPhone changed since then, iOS has a different start screen. Let's see how hard would it be to reproduce it.</p>

<pre class="code">
&lt;div class="slide-to-unlock new-slider"&gt;
  &lt;div id="slide-to-unlock-new" class="dragdealer"&gt;
    &lt;div class="handle"&gt;
      <strong>&lt;div class="slide-text"&gt;
        &lt;i class="fa fa-angle-right"&gt;&lt;/i&gt; slide to unlock
      &lt;/div&gt;</strong>
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>
<pre class="code">
new Dragdealer('slide-to-unlock-new', {
  <strong>x: 1,</strong>
  <strong>steps: 2,</strong>
  <strong>loose: true,</strong>
  callback: function(x, y) {
    // Only 0 and 1 are the possible values because of "steps: 2"
    <strong>if (!x) {</strong>
      this.disable();
      $('#slide-to-unlock-new').fadeOut();
    }
  }
});
</pre>
          <div class="slide-to-unlock new-slider">
            <div id="slide-to-unlock-new" class="dragdealer">
              <div class="handle">
                <div class="slide-text"><i class="fa fa-angle-right"></i> slide to unlock</div>
              </div>
            </div>
          </div>
          <p>By no means do these demos try to be exact replicas, but merely to show the flexibility of Dragdealer.</p>

          <p class="secondary">The latter example has the handle (the dragging object) bigger than the wrapper, which in turn has <em>overflow: hidden;</em> to mask the bigger handle surface. You should check out the CSS to understand these examples better.</p>

          <h4>Content scroller</h4>
          <!--<p>Dragdealer can go both ways. Besides being the control of a visualization, it can also be a representation of a different component, by being controlled programatically, through the API.</p>-->
          <h4>Slideshow with buttons</h4>
          <h4>Interactive canvas mask</h4>
          <p>Dragdealer is just a drag component, the rest is up to you.</p>
        </div>
      </div>
      <div class="slide specs">
        <!-- Jasmine reporter goes here -->
      </div>
    </div>
  </div>
</body>
